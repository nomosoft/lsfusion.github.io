<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="lsfusion documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="lsfusion documentation Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="lsfusion documentation" href="/opensearch.xml"><title data-react-helmet="true">How-to: Inheritance and aggregation | lsfusion documentation</title><meta data-react-helmet="true" property="og:url" content="https://lsfusion.github.io/How-to_Inheritance_and_aggregation/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="v4"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-v4"><meta data-react-helmet="true" property="og:title" content="How-to: Inheritance and aggregation | lsfusion documentation"><meta data-react-helmet="true" name="description" content="In order to demonstrate the principles of object inheritance and aggregation, let&#x27;s implement the logic of creating batches based on receipts and production documents. Let&#x27;s make it so that each new document with a Posted property will automatically generate exactly one new product batch."><meta data-react-helmet="true" property="og:description" content="In order to demonstrate the principles of object inheritance and aggregation, let&#x27;s implement the logic of creating batches based on receipts and production documents. Let&#x27;s make it so that each new document with a Posted property will automatically generate exactly one new product batch."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://lsfusion.github.io/How-to_Inheritance_and_aggregation/"><link data-react-helmet="true" rel="alternate" href="https://lsfusion.github.io/How-to_Inheritance_and_aggregation/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://lsfusion.github.io/ru/How-to_Inheritance_and_aggregation/" hreflang="ru"><link data-react-helmet="true" rel="alternate" href="https://lsfusion.github.io/How-to_Inheritance_and_aggregation/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.2da82c91.css">
<link rel="preload" href="/assets/js/runtime~main.d996a8ef.js" as="script">
<link rel="preload" href="/assets/js/main.2ca2f8a6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title"></b></a><a class="navbar__item navbar__link" href="/Install/">Install</a><a class="navbar__item navbar__link navbar__link--active" href="/">Learn</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lsfusion/platform" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/">4.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/next/How-to_Inheritance_and_aggregation/">5 (Next)</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/How-to_Inheritance_and_aggregation/">4.x</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/How-to_Inheritance_and_aggregation/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="/ru/How-to_Inheritance_and_aggregation/" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">–†—É—Å—Å–∫–∏–π</a></li></ul></div><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Overview</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">Paradigm</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Paradigm/">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Logical model</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Physical model</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">Language</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Language/">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Tokens/">Tokens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/IDs/">IDs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Literals/">Literals</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Statements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Coding_conventions/">Coding conventions</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/IDE/">IDE</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Examples</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Examples/">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Score_table/">Score table</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Materials_management/">Materials management</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">How-to</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/How-to/">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">How-to: Computations</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">How-to: GUI</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">How-to: Imperative logic</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">How-to: Declarative logic</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/How-to_Declarative_logic/">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/How-to_Constraints/">How-to: Constraints</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/How-to_Inheritance_and_aggregation/">How-to: Inheritance and aggregation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">How-to: Searching for elements</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">How-to: Extensions</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">How-to: Integration</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">How-to: Use Cases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/How-to_Metaprogramming/">How-to: Metaprogramming</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/How-to_Physical_model/">How-to: Physical model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/How-to_Internationalization/">How-to: Internationalization</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/Online_demo/">Online demo</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: 4.x</span><div class="markdown"><header><h1 class="h1Heading_27L5">How-to: Inheritance and aggregation</h1></header><p>In order to demonstrate the principles of object inheritance and aggregation, let&#x27;s implement the logic of creating batches based on receipts and production documents. Let&#x27;s make it so that each new document with a Posted property will automatically generate exactly one new product batch.</p><p>Let&#x27;s update our logic with the notion of a product whose batches will be accounted for:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly lsf"><pre tabindex="0" class="prism-code language-lsf codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token plain">CLASS Item &#x27;Product&#x27;;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">name &#x27;Name&#x27; = DATA ISTRING[50] (Item) IN id;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">FORM items &#x27;Products&#x27;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    OBJECTS i = Item</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    PROPERTIES(i) name, NEW, DELETE</span></span><span class="token-line" style="color:#403f53"><span class="token plain">;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">NAVIGATOR {</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    NEW items;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Let&#x27;s create a <code>Receipt</code> <a href="/User_classes/">class</a> with objects that will indicate the receipt of products:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly lsf"><pre tabindex="0" class="prism-code language-lsf codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token plain">CLASS Receipt &#x27;Arrival&#x27;;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">date &#x27;Date&#x27; = DATA DATE (Receipt) IN id;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">item &#x27;Product&#x27; = DATA Item (Receipt);</span></span><span class="token-line" style="color:#403f53"><span class="token plain">nameItem &#x27;Product&#x27; (Receipt r) = name(item(r)) IN id;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">posted &#x27;Completed&#x27; = DATA BOOLEAN (Receipt);</span></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#403f53"><span class="token plain">FORM receipts &#x27;Arrivals&#x27;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    OBJECTS r = Receipt</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    PROPERTIES(r) date, nameItem, posted, NEW, DELETE</span></span><span class="token-line" style="color:#403f53"><span class="token plain">;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">NAVIGATOR {</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    NEW receipts;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>For the purposes of this example, let&#x27;s use a simplified scheme with a single class. In reality, you would be using two classes: <code>Receipt</code> (for documents) and <code>ReceiptDetail</code> (for document lines).</p><p>In a similar way, let&#x27;s create a <code>Production</code> class to be used for manufactured products:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly lsf"><pre tabindex="0" class="prism-code language-lsf codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token plain">CLASS Production &#x27;Production&#x27;;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">date &#x27;Date&#x27; = DATA DATE (Production) IN id;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">item &#x27;Product&#x27; = DATA Item (Production);</span></span><span class="token-line" style="color:#403f53"><span class="token plain">nameItem &#x27;Product&#x27; (Production p) = name(item(p)) IN id;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">posted &#x27;Completed&#x27; = DATA BOOLEAN (Production);</span></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#403f53"><span class="token plain">FORM productions &#x27;Production&#x27;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    OBJECTS p = Production</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    PROPERTIES(p) date, nameItem, posted, NEW, DELETE</span></span><span class="token-line" style="color:#403f53"><span class="token plain">;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">NAVIGATOR {</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    NEW productions;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>So far, we&#x27;ve been only creating regular classes without any inheritance. To implement the batch logic, let&#x27;s create an abstract class called <code>Batch</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly lsf"><pre tabindex="0" class="prism-code language-lsf codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token plain">CLASS ABSTRACT Batch &#x27;Batch&#x27;;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">date &#x27;Date&#x27; = ABSTRACT DATE (Batch) IN id;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">item &#x27;Product&#x27; = ABSTRACT Item (Batch);</span></span><span class="token-line" style="color:#403f53"><span class="token plain">nameItem &#x27;Product&#x27; (Batch b) = name(item(b));</span></span><span class="token-line" style="color:#403f53"><span class="token plain">type &#x27;Type&#x27; = ABSTRACT STRING[30] (Batch);</span></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#403f53"><span class="token plain">FORM batches &#x27;Batches&#x27;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    OBJECTS b = Batch</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    PROPERTIES(b) READONLY date, nameItem, type, objectClassName</span></span><span class="token-line" style="color:#403f53"><span class="token plain">;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">NAVIGATOR {</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    NEW batches;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Each object of this class will correspond to one batch of a particular product. All of its <a href="/Properties/">properties</a> will be declared abstract ‚Äî that is, their implementation will differ depending on the class of a particular batch.</p><p>You cannot directly create objects of the abstract <code>Batch</code> class in the system. To do that, you need to declare specific classes that will be inherited from it. In particular, let&#x27;s create a class for batches formed from the receipt of products:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly lsf"><pre tabindex="0" class="prism-code language-lsf codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token plain">CLASS ReceiptBatch &#x27;Arrival based batch&#x27;;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">batch (Receipt receipt) = AGGR ReceiptBatch WHERE posted(receipt);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Use the <a href="/AGGR_operator/"><code>AGGR</code> operator</a> for each object of the <code>Receipt</code>,  class with a defined <code>posted</code> property to automatically create (and delete) an object of the <code>ReceiptBatch</code> class. At this time, the system creates two properties with reciprocal object links: <code>batch(Receipt r)</code> and <code>receipt(ReceiptBatch b)</code>.</p><p>Now we need to inherit the <code>ReceiptBatch</code> class from <code>Batch</code> to make sure that all batches created by the receipt document also become objects of the abstract class (that is, previously declared batches):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly lsf"><pre tabindex="0" class="prism-code language-lsf codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token plain">EXTEND CLASS ReceiptBatch : Batch;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">date(ReceiptBatch rb) += date(receipt(rb));</span></span><span class="token-line" style="color:#403f53"><span class="token plain">item(ReceiptBatch rb) += item(receipt(rb));</span></span><span class="token-line" style="color:#403f53"><span class="token plain">type(ReceiptBatch rb) += &#x27;Arrival&#x27; IF rb IS ReceiptBatch;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Inheritance is implemented with the help of the <a href="/EXTEND_CLASS_statement/">EXTEND CLASS statement</a>. After that, for each abstract property of <code>Batch</code>, we define how exactly it should be calculated for a specific <code>ReceiptBatch</code> class. Date and product values are retrieved from the receipt document through the <code>receipt(ReceiptBatch b)</code> link. The necessary string is substituted into the batch type under the condition that the object belongs to the right class (otherwise, the expression will be defined for objects of any class, and the system will generate a signature mismatch error).</p><p>Note that you could inherit a class directly while declaring the <code>ReceiptBatch</code> class.</p><p>In a similar fashion, let&#x27;s create batches for manufacturing documents:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly lsf"><pre tabindex="0" class="prism-code language-lsf codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token plain">CLASS ProductionBatch &#x27;Production based batch&#x27;;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">batch (Production production) = AGGR ProductionBatch WHERE posted(production);</span></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#403f53"><span class="token plain">EXTEND CLASS ProductionBatch : Batch;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">date(ProductionBatch rb) += date(production(rb));</span></span><span class="token-line" style="color:#403f53"><span class="token plain">item(ProductionBatch rb) += item(production(rb));</span></span><span class="token-line" style="color:#403f53"><span class="token plain">type(ProductionBatch rb) += &#x27;Production&#x27; IF rb IS ProductionBatch;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If necessary, you can create a class for manual batch entry by the user:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly lsf"><pre tabindex="0" class="prism-code language-lsf codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token plain">CLASS UserBatch &#x27;Manually created batch&#x27;;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">date &#x27;Date&#x27; = DATA DATE (UserBatch) IN id;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">item &#x27;Product&#x27; = DATA Item (UserBatch);</span></span><span class="token-line" style="color:#403f53"><span class="token plain">nameItem &#x27;Product&#x27; (UserBatch b) = name(item(b));</span></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#403f53"><span class="token plain">FORM userBatches &#x27;Batches (manual)&#x27;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    OBJECTS b = UserBatch</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    PROPERTIES(b) date, nameItem, NEW, DELETE</span></span><span class="token-line" style="color:#403f53"><span class="token plain">;</span></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#403f53"><span class="token plain">NAVIGATOR {</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    NEW userBatches;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">}</span></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#403f53"><span class="token plain">EXTEND CLASS UserBatch : Batch;</span></span><span class="token-line" style="color:#403f53"><span class="token plain">date(UserBatch ub) += date(ub);</span></span><span class="token-line" style="color:#403f53"><span class="token plain">item(UserBatch ub) += item(ub);</span></span><span class="token-line" style="color:#403f53"><span class="token plain">type(UserBatch ub) += &#x27;Manual&#x27; IF ub IS UserBatch;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/lsfusion/platform/edit/v4/docs/en/How-to_Inheritance_and_aggregation.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2021-06-09T14:39:43.000Z">6/9/2021</time></b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/How-to_Constraints/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ How-to: Constraints</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/How-to_Searching_for_elements/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview ¬ª</div></a></div></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">lsf docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://ru.stackoverflow.com/questions/tagged/lsfusion" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://slack.lsfusion.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/lsfusion" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a href="https://habr.com/ru/company/lsfusion/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Habr<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/lsfusion/platform" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2021 lsFusion Foundation. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d996a8ef.js"></script>
<script src="/assets/js/main.2ca2f8a6.js"></script>
</body>
</html>